@model ChannelsECommerceExample.Models.Order

@{
    ViewData["Title"] = "Create Order";
}

<h1>Create Order</h1>

<form method="post" asp-action="Create">
    <div class="form-group" style="display:none">
        <label for="OrderId">Order ID</label>
        <input type="text" class="form-control" id="OrderId" name="OrderId" required />
    </div>
    <div class="form-group">
        <label for="ProductId">Product ID</label>
        <input type="number" class="form-control" id="ProductId" name="ProductId" required />
    </div>
    <div class="form-group">
        <label for="Quantity">Quantity</label>
        <input type="number" class="form-control" id="Quantity" name="Quantity" required />
    </div>
    <button type="submit" class="btn btn-primary" id="submitBtn">Submit</button>
</form>


<script type="text/javascript">
    function genapikey() {
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
            return v.toString(16);
        });
    }

    document.getElementById('submitBtn').addEventListener('click', function () {
        var orderIdInput = document.getElementById('OrderId');
        if (orderIdInput.value === "") {
            orderIdInput.value = genapikey();
        }
    });

</script>
